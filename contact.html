<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="robots" content="noindex, nofollow">
        <style>
            html, body {
                margin: 0;
                width: 100%;
                height: 100%;
                font-family: 'Courier New', monospace;
                background-color: #343d46;
            }
            #dialogText {
                color: white;
                background-color: #333333;
            }
            
            #dialogWrap {
                position: absolute;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                display: table;
                background-color: #343d46;
            }
            
            #dialogWrapCell {
                display: table-cell;
                text-align: center;
                vertical-align: middle;
            }
            
            #mainDialog {
                max-width: 400px;
                margin: 5px;
                border: solid #AAAAAA 1px;
                border-radius: 10px;
                box-shadow: 3px 3px 5px 3px #AAAAAA;
                margin-left: auto;
                margin-right: auto;
                background-color: #FFFFFF;
                overflow: hidden;
                text-align: left;
            }
            #mainDialog > * {
                padding: 10px 30px;
            }
            #passArea {
                padding: 20px 30px;
                background-color: white;
            }
            #passArea > * {
                margin: 5px auto;
            }
            #pass {
                width: 100%;
                height: 40px;
                font-size: 30px;
            }
            
            #messageWrapper {
                float: left;
                vertical-align: middle;
                line-height: 30px;
            }
            
            .notifyText {
                display: none;
            }
            
            #invalidPass {
                color: red;
            }
            
            #success {
                color: green;
            }
            
            #submitPass {
                font-size: 20px;
                border-radius: 5px;
                background-color: #E7E7E7;
                border: solid gray 1px;
                float: right;
                cursor: pointer;
            }
            #contentFrame {
                position: absolute;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
            }
            #attribution {
                position: absolute;
                bottom: 0;
                left: 0;
                right: 0;
                text-align: center;
                padding: 10px;
                font-weight: bold;
                font-size: 0.8em;
            }
            #attribution, #attribution a {
                color: #999;
            }
            .error {
                display: none;
                color: red;
            }
        </style>
        <!-- Favicons -->
        <link rel="icon" type="image/png" href="assets/img/earth.png">
      
        <title>Welcome InTown</title>
      </head>
  <body>
    <iframe id="contentFrame" frameBorder="0" allowfullscreen></iframe>
    <div id="dialogWrap">
        <div id="dialogWrapCell">
            <div id="mainDialog">
                <div id="dialogText">This page is password protected.</div>
                <div id="passArea">
                    <p id="passwordPrompt">Password</p>
                    <input id="pass" type="password" name="pass" autofocus>
                    <div>
                        <span id="messageWrapper">
                            <span id="invalidPass" class="error">Sorry, please try again.</span>
                            <span id="trycatcherror" class="error">Sorry, something went wrong.</span>
                            <span id="success" class="notifyText">Success!</span>
                            &nbsp;
                        </span>
                        <button id="submitPass" type="button">Submit</button>
                        <div style="clear: both;"></div>
                    </div>
                </div>
                <div id="securecontext" class="error">
                    <p>
                        Sorry, but password protection only works over a secure connection. Please load this page via HTTPS.
                    </p>
                </div>
                <div id="nocrypto" class="error">
                    <p>
                        Your web browser appears to be outdated. Please visit this page using a modern browser.
                    </p>
                </div>
            </div>
        </div>
    </div>
    <div id="attribution">
        <a href="https://www.linkedin.com/company/intowntechnology/">Visit InTown Technology Public Profile</a>
        </div>
    <script>
    (function() {

        var pl = "hDANzpequjK74XTrElXJmB7o3YDaZGRYyjtHm9lZN1vU5BGPDisKZQet70+TPcIkvNZw3rXn63gKrrzSHcF/VIbS3zvfFlrYTFtoTYa2tcV9U+oR9oO+TQ+rqYik7j+iYmglQ2uA8QFfnwzFC00E4Gk44B72qcCggi9yFnJW2LkGA3RmEtwpRLkhxnoUo1L+F7oCIKURhZwbjlMeOMM4I3TriXJBmIH9GkqTJ30Dufztom4dl+n99SWZvg8s314x/T4sQAK9GCsneoIcUahS/OPaiyTb/o6abK+u5SUn8AbmuwSK/djYJ56oOzsLwtaROMiSZYQvDBxRJZKyCInviD7pe/4kvJvYHL2ecDQJfaaGgqyjbjRmtqWvdhlNHIPEHKTPmqL+pYTTgi00Tx7Qr4oU7hz3SU7P67GbzJ1tNYfkvfXw38XrO/+qv7l8pE5y9d2oZ0XVDkFJeHgIPOCw2xhCiyiMlCyTVf05OvEkAKn26/cHYUcAmA6r4BXiI08BinRXN7mS+ex+NlvaDWTp3FZChGSlEXQsE34LNreDPXVBEKAtOij8boCjkzDh6V50H9+BjhrkrOU6A6wL9wbJmjt7aL4WXW9FuJRn/cKLOCI0KezSiUcLiFqSOjbL56cquqXhhYQIl9chWByScB+eLm8D1wAubHaMz88OphDw1EYKogG6YAVZ5dkLamHsL+zq59ORCzjfvnOVZHUfabb7PLT5WCkdx7SmPswLfa+H+bdoQI0V0CZggCHA5YCKBMcvf08NEg6a2HxqGMhcBp9+5ZSb9VjP1cMHbRvfOXoGDzbh1xGDxKIVRTciBTdtZk87Su6SFicMOQjLu6PoL5gxBUTqKNUVR+/AUeWg7Gy32xjslwh4gP+N3jmQioDFK7vtyjWsVablXEPtGq257n+OGW6eoHlw7DNJuSO6wsEVRPgrBjjpU4uckKe0/K47IqhvX104K4KeFJGwjUeBupBIsyEBiUdw0azOd2BwDgO9l2iKBm86UmZMm+XE9fkO49ibv/MD1yHvrBKt8kVeevmujjiOn/NbfRm1w2opVQ2uzMBNwJTGeLF9hDePzTpwLWFsJthbewZvT7wrz+7iYaSYKO0OBTDKm1bMfhdw9bkd3hzc/tZ+sHyZa6X/Ow2D2fIbTS7sER3R7BkXrxi4tGpqJf8wE/U/y+wGbPQLbFPXHWoVwqCSyrDCx4se0zGwouCLQAv9ibkDN/2ElA8WgIUNtxWka+S/jVRa2r3jxtq2aSxQ66qITMz99S70BYgFc77LQrFaA2KRb5+8EZGaix8YedBGE1+uH5hFefZFd8z7HhNf7Ct5gFloBwsQjLr+zGiKLKFV5lujBOmv4kATjCPYQdsm1hVsjSA9fD0Mm1l2VMsnd3gFf7GwZAE0pgHtshUZmiWpTCNsvb+gMxgWTtss2KbOcFDAyKybrQu96gONhj7r76SRvxbYSfBHM5o1zZZzJj6xMbFVHoodHwLS5+htQI7JGL+uk50xpaky5ModZ7zdt5juwl4plvLN5W325UAdS/wgOAinJ0alEBnK9WjL/mRNKuM9XTYIAkw4DoV1FRi+HuuuAlRgKXAVhxjTBa1nhNf03Cr/3cz6fqPikrFK2yJmJDDq2u9yegED19h0tx1f7vOfMF1DDmQZ33DrTDJzMk+nn/KfqDolv7qgZvOuEZWioUwxVljswL0HxYR1fZJGmC/X1D45v5l3pMEVvblc44uP5S8nqaN5XmvzTBHDKyRPq9ktrMMdKhz58FyKPbqjsGuULwfbFXcuDr8HQ074ApSRhlK0lZuFtKG4hi177lKF8Y46KkXrepQ5Uif4PLFjGr5MBsHD938cCPhcmMdVUm9RfsW2lwUD8tnMj4ClxhYSDonbYsuYGd4N1qecKPWnUFGoARkQOMpTKU5OjVe3s2JCHRqzmOP9T3jLYDocUf6UyuCFF/Zypay8gtP2/puGyskYca1QuTPxqMFHbRMg2pgMlDzUzDMlqXT2O1sXSPXekYM9HL/wVs179kaaYLQOqN+4/tyEjvmvysANF39uS3EddkiwbkKmTrJS49wD1oRauUBMyxMwLTwjn7uc0/z3W7qDAMO7W2gHSRbb8joVnM3Lr6MlBsG7uDTefuTe4HALuEH9wW/195KWHPO8M4Bh9Hc+sq2GCvCDZK2eKilQQFlFljh1tJ+w2GXahy5rWKb45Lxwqu9nCyO9/aOFyCAiDmUbjw/Iestv1KJ3zxW8sVBd4XxpglAfCNqO9/jzggn/jGuMNwuIl+GglhzC2vgpzbC/lBgIlVeSnHNLhiqiXolJ/lPZtkVGEgrkb8NPRchrQCtkuXD0QbfoBGQlHZmPN8jTCsbmFQh9F/1uDQ5i6Rdo6biNu9LWCO2IDqOYeGFIKZhUxwansj0z1FBj/QYpqK82cP+TJZHz7VqPCLy4LffzuKL2WKkuNvyvIOVWHM67oBmZE3MeOQdz/UfM+7HcwU9q1Kvr+3+shNTWl1iCFEzbH54Pp7yoX6nGmj4kKO0ApCtmSK+AKos2nUw5xlomPzneHs2304t2Jmf9tbqKI366k3HABNgA5UKsJzKqFCZCpyDeJzLsKUcfzaQoOGi018yHBcJ97/LlJOsHG0OZpooSjH/TZ1QUqNWGZfJY339t5sY/zLaE3PZCTLAr6Ob1SW6mKrwD2sSvOI8w6uBEnyan45Ay+p0pbLD979Mgztsalnz/tb2swg6Zj6QD0jSPGuBf9kTA/97KMll1lKD8tFhKorDB596dI2mpy8s95xUqxb/STmRV/1eU1BB30LXKJtZy3Vq7/In7AgiPE6GBWrbiGfMOi2fDzAbf8t4DZJDAaOK5BdiDBSyAguKZ8zoAnMk2Wnre5Bu4BALIctxQyyOjlfsFeIbTv6x9jOBprncDcRLaYSUDQxOtfpLz0TaKRn9jlalfGZoA7VAm0yu7Pq2JlXbkntijXqbU+9UmTK8It9KbWpwLV5xLcvj5kNC74XLO7MqRTPilOJnbf/sUq0xvkfp+QKGG/dN2GN3WR2kBeCD388qarnU5A1h9v8vMzd02et9XdeuyVWOYzn1cXQZfSv2NbgjXlraqJQGO7pgLKsl9LEPOMR2B9VWFfWUDJcPdXVWw87WKnGRllNMgD+jgRZNFauYuzwKtwZ5iVZNZE+57/eSKW4rpKLbM8Rgt2gZ0n4YaWp5x9+aQotreXGUwBGD0nMaGwTuMfP/2f4jNh6Je5jU5IwYe3bHEP9gdFtEC7bbHdWXCbjVcpuRnjjpx/k9EIwxQC2vYNQjF4xISPi6wGmU7xXvsex4UTpybyNW68ZmaO5flcqqBmwNHkMh4CcnQAxlsgAmyID7WRyq/5e1YFheOjFRYpiTmexDPzsaFTaQw+pkAN+nZ9hekWTXexTpoEccCEJFZJ/ASnVnjYpwPKT5eeBzkAIpiK+6xVZoTD1d+dWZgZlKFno/EIxETZhRx3eybHHh6BfLoWFWX6ljGjjOyd5zjqi8C0cACySTyqkP8Uue413OiiNBlrs79vcrQ6aMBKUxoDz8F/Z15o/nxVikcl6/en0SLeHIbBCHpFOsEeehlx8BYUXm/SqPZjBvv+lgogWCksO0IFOup2IjMB1FexddbMpQdKvN7H49aE49trrjEAHSHQ/Htgwn0jSfJbl1uttxPoAI7/poC7JtqPv66oUEQvuKhWVqyysbfiSEIhYogduZjf1yfNRRq0WZVm2aMof/GIW9e2gYBKa7j7bhQ93NpGDUZlkPLKUlNcoCrN9t2Sp138jWsJVVJbJr2NGZpdKuxgD1FEWjB7WwU6tirubVFXVeD7JBoxd6z9uC8zNRu7vSacSHyt1ONYBDRKRUPqC3eotVvXDlhLBZwiuoW6gD90hMULjPkCIBvkt8CooFqB32mB8+Mxk8pLqgBVNmUDxISUNOGgeeKuA/Iw0/pTA5hppQtM32Va+EVv8Bn9/jaqCYZp6oicvW6QmsrOYhQVtc1N1b7lSuGhBYOT1gBAft23As1OtDedJbhn461qISihjR/cImhpExpwz4rj/RXwNL7LhIrdl6eBatQ4sCaO8k83LWF463qvzQQFh1oYrQxhNtO11Ojx2m1BkPeIBgDWz6rr1oQh1RE2oy6h0/2vUWRI0F+mObG0gxpJPoLuva+yRTmYUKdgUUCZ40SRtDkIaGcp+Mw3pdxjW8SM4k05ui+T+8p0ve8PHZukzVOCMwiBVWlCwS9JP0OauTaQsgH/MpclXbLUgMSb2SfsbI2OvhnEzpdbZNNiXYxYmadsXdeTlIF/dTQw23JiY9+r4qvlNhhhSeLL8qTC7i1ppNWT3vkSievaMyAbRqrZxRVR6ea5M0ZFhtiLPiLviP1zZ/b5dW1VxsGofTiGsoNR+R3N4r8co3cxU5LtcVmfGcSvDFhf0JNzD1juEBol1sJMHqMtnuNcO3Hwxddh+56EVxZF1/jG7ZzPet2HxwQPSjPUQV9rFjywbFk2BSX5jdez79FpYYA0mvHl7GQeBva/hTTupUtpJpWpE7d1gypTYCD0KjSb21p7KUrYzpVK40xTyAQRmiVXHBxm3xHMBl6Vmk+TOyEIvVWsT6Uh3vvCBahDQZ7Yok+ZvNba36vBVzODJkLI8oHkzl9HSaf8mbsfcLlHWR3JV6pHMlDJBUm0YCd4Zis8Ylf3owOucMWW2a3dQTLyPwuFwUJYpNjnoVl+25pTIfIbrO8X8Yns043L1DxIJTuadX3jvvuro1UeTHVbgQEnyKaFoqaZ9WADCOk8VW+mQry3IXwJ5JL0TveJXJJbqrQ8cjCvEo6ip/vqZhklzqNjC1RZyyGex0akWnh5S9aTuoE4DpuLcPpRBH3yjngFFb96/t1EVPTQP2wnuxabLkgNGsilEjiMMJJYUXc1hhhUTS4+vLxN0AEjEQWRzqV9FkHjYwKMuGvRWRmbt/XbM+KbFxja4IYtf8i79O/3hyREq8fvMQIvmLwmzWdu43gYOBYNV0n5Q7YDB8Mb6j8EqKcpCYeStvNJ3Kn7u6G+qB8pUz3CzIJr0iBPM25MNXRjza396uZgI7XmN58aFy9PbUFEzltPrjwUoe/8BR2ndn6rLHzDBAQBJXYzr/2wWTfEAVaajO8IDl+lic55DC9W1cQvkXPolqwy3abW4J3b7chl63wP/WozLkhOHFmE01GbEmsC9aLTFDH8xBuDa/jtLg4KSdBRZcQ801mUiQGdUfYnQcQlJ7CL/HFAIJYkubpDz5g3M7Hu1UVjvoYlfLwEE2qrReGOHAktBh+jDIMgvKYefqmn/gsQHfwPZMTp1wkrqNW7UFIQjMio707IEUt4/heHPDqrfqiAgrlJTW35UlCJwwHtkzueecF7FSUpINSnhgtFBGJhh8eH5qDlc3kQICTbDuy8b+vXfGdnoQTWxdrwamlJwB498nbKZmmmoIdLhK0Zmhj1ZnluttY7XeD2xqeJwUZuK6e+hXiPqGz2fZFETeSJ6GUhe5ikVOEcGAKKV75t84NARC4ynZQzeIKDZm0ajfRQIa+pNOmtIlH68si6AjcJfpxsfV/r4P3EB+nqhoQl18Xc4dW90rXnIe/tuIqxsjPpJ4F/GZlxMp3c8mFBXVjUKSFBvSe8WdvLa8kDk4E/RmsEQpYsOde2vHB2KEphX4rPVvUw/XHvPEJFuNVC8sfu1VLdD4fMl/DBZzC/5NHLAOJd5rVl3QmTU2UJwcjJdsHE96P8jNdkavY6LuY7fDoVUI9ow4QRUOaaiFDV5z9xsedf59PcFdNXi6cme2nE1NK0bWbdddpj3xMDFpQAbqwQ2ot0fx/inQsCC1td1PW0987+pM0zVml3vRG6tihSaMFrUP9e7imX0ggKXYyjJZofEpw6o+ABohCR6DcxtbrRPOzO9cpoqaSo8d++T0N7sacnsoDS3J/ayiLg0i7rzpdSZP80CG+B4yP9ziBtLD+r+asCy4HQ9me+7eOR4/WvhKgLIjm+looafiG7Qif6bNLzzd9Gu4XJQlxvv8PmBTKSKRSfRwmAWeY5Ze+nI0siRBHZfmDrI5qHp1XMs2zyQmBZDKIV/0zyPLyFjUQ1VbgRogLc/R3x41L8OsB2oTEPvmBB7VaPTpfq2Dr8BGSRyR85qGmvnafBYcDuUZxFQ+nzs//9DuKqq/ubqlhM8kCOD799OXfJEUsXzA59847+11syquZwszTMcJB2C756HLoXl6C1E4KxFQSUKDtMcPtiJfBn/zEElGoxBxsmhkDiIdqsOBeuhxbUUJN2ZlvCWZv0WiBWUMwSBr8ao6QXq36dadoVNiCouqH+txkvtT3ZLIn21sxW0Ot3ojr8K4uOC8bariq/dwNCueK0oVgWBXUMaopPUq3qbPJPD9Nzu70fzUNu1Hji0eiCYHXvGgoLiZuBQM7lA5A8zqnw1B55W7J4JIgL5rVvQU/GgQAa9CRmjothyEBH4k9Jfl6DDtIZ2C00p5mqsJE1O+8J+BBUoIHMHXTfVR0dh9P+gmDl2oqOJVGyzKX64g9FRh/j0FcfZDb0dfTDrm/sMTT4eh8E2wEV2QmUZ/dC8ppauSBZ8ep6kZOgG1Dt5rGdi89qqHQq2XQyt1zQj+dgkco4EcfwkGzYo5VdwM09TExEX26mlbHXV2SbEaABs88IMyYfRgkhHd0mIXYGcqzik6zciYSana5pibfQds6ISeNG54L71zR2fJRfFKYMmu4q/dkCwYCfi34FgzBmo0YuFgaLWxa4fsRd21I4QoqrSyEyoZ7mbEqTS3Q+n7n76iI1t3PTY5rBgaBVIFnKtmim4b0FQP9eY3NraXbBM5E3U7lzNIA7Zso0zGz6iilvNra38nHXNgc3yoD02YxlvMkGnGPXDk5wlD+jC7MbmiyUU5V+C/+8XBZNcUp/em9oQ39XvvNrakOB6a0YdOZZeKC3OS0g7qChjuUcENhtkW9WNyDaEGRLQgW4wRjLKWk+xuHsXy+GaTmX1CWQ1p4DR5oRuURG5QxdzK8aWTEmcv14cngO74+lWsKtd+6aDlgIfLlYjCnMTzR897NjiVQGY0ZOIo+qAMb7xmUcvlqH+i+MpwDIyNMx5Jx2aCJWE0xXIB4EBdqNH/+bDFLlVDx8m8Ur4xD2BkAjGkPA4ylP7ij5z98IUALGhXKypTtYZH7qJrb1l6L/oaqN3UC44NjEBAwH3Xt44HQehJrK20tVxd4Z4AvHqXS2vOcmyxoTftw+KG6KUy1tQ80JwlZF5jksbbWKAEXtK/lQjMTw3L/jMg8FatbG1zVoarEEC4BnW0jkUv1MPprUGG38x1z/igHTwTwVXets8lo2k8FvFAzAv3U4dKgJdzB4iDaGCdT58EJwiqfwgS9IsWi3DHPHFELSqpTDp/adtrxI7ru7TkLZXRbRswdTNXzr1DpH1CPvwEU8AmlInXx51EfLNRQQ1X7q+ItTwm55Ap6yLuSxemINtc4/NxtEInMnljtSLmGhByppt+yFkNz6+f8uS9p3hr2lKZS6WckhtSTNWnbpUBhFYjhNSw2XtgIi0m8u+xKlEkKq3NUFUjjRfd15h6qocJvGxzXniQ3Yy+4A02kP7j8e/AEMdB0uVKaosRuBKfCtRIn1vPeOgDtjBkgTmQsijNNcm0tj32jl32BO1TmHyo9ThVSxLPlNqd+JJ3o0bFG1zFuN6KQ3LQ9xQpHsnS6Tb/krrTKSeDD+N4djdbjMMqN0pOIdQVhNGatyNhoha4JChi6DX6xVPkRBYskDHv3jo7q0/eUh6rK2vLIQkiaRaCu2iIdtya8NQhUwyzGFLePV0MQjzXx16qrQcrg5AyFh6aEThB6meG6ArE7/OPL3UhUPl1m2Ly0GgZOFx4tuG6TZSa0xRE24MehhtvCO/nqZGtGEy9L7Q73PCurytvMImJI2/rKsp3GF5Ah+5LkDKWm6+8+TT1DhQKChn2OcZlc+CIbluqVb4p3CaR0TipRr9+tDH3qRjDDxiJjvEWPfVQZ4yty6ILcbehyqpmVzi5HKWH9IYlnHZM7pZh2DWFkopyW+oYPWREcX25R/0p13+4RSMvL2vPWFl+oMKsx6M8dzKVXA9htBgzyMhz8PoCER16yZyGCXd1VcQmXZYk9f0+2AaynpqBzVC+iixYzpc6PZMDihwnwpMVLhF20XGGp7X1WhbE0itgRbsSzFv0X9WoBYmBUrTc2mXwISKWYdatniTlr75YGeIzkaHWG3IKXRYQ1xrhJ23ap3zJLVt0z5YHIM3266nkPewJJFSFMnf4pnp16WjZ3u7xstoKCerSYHreK1Q8o9fUu9W9WC6GCYPjXZdFVJyskxWuvuiGZiyhSoUmZWA5Kj+hT3Wb12smrYL5u8pW/hl5mPu0kd+oT40sm/7u7Y7pJjovlRyv4K33KT2H8OMysNMsg6/sKX6MRC7MRhbMYGovuoXgUvJBM7GgQmD7Uu0aDx7rl5qcyNZs7F3YWFaSyYSboY4tew6QchetWgfl75w54PjcpkZkQJkjWR/6RYaFh+yihjmyJDqemHRr3ILj8hCxDp1K20Wkz5YWQfIBJA7CUW5cgJZ675NqDVNOT1KRIm51wXC+x8t43PKeXQHs0Tm47pVs6urmwpEv3xNYi2ujxS9TMJHgMSse/XHl7JGQtHsn+CBG26L0l85/qo4PkFIFB4w3U9ZwnpRIJ9ALI7V7eXGotM1og+xYrIoc8rZh2r48FLMVvwMaoOF0u6UYah0oz8D2XqZWOLBZDPTPrivQq1nkk3Z0YEiHrLF9zQzAf2XYwh10ecg7fkRW5J8Yek3HJUHErT+8tvhFpqETyO6bhMO3RvgWWaG8fdAmp/Cn2D4V/woTBOsROMD8YstDVGYYYdtglhMR0wUiYKF/fRhLmgiPIlt9LUH71EkD4g9mBqy1XCme5adN83LUv9X7yZUvqSlaTqhUq7BXafjorp4e12ZU6hGP5XGPhRRIqkh5BkHnh1qUDH3oQI6iAgfbD/2xHVY/ZfLz7hZjiPR0sGHvOcPTeHIFXIScnYK7/07us879vzUylR4Sf9vYIX2dmCQth9Yvt3ieF31KOUspHrjW2THhs4NUMd2zwFzYuYTryRT0UIN9bpRI7DjxnJF2cXqyBh6d+cq8hpteUULklGjrB6ubmcDpiaim32kKHWb4JeB+O965eBNiP2sNEBGZpeCpyIBu+hCWridY0XiM+tBXjUipQvw3dYP735MyHqAj+5yQL0M/NhgvUmWVzxtMVXoNPJlEyLgGgq6/7QV3MN1SXriYyTeNThS3T7P385KXoWGd+0e33o16erMB2R5wSubh4ZqaOogBPW9rFucR+0qTwcThMhWQf3jGjDM7fWBKSmUVhugdsZ02ussKxvoitf3OpBtE+tM+PK7FqUepLJGnx4GxsQsz/EmISBXrxeTbYtDU4PdQHKJjweLolFf4t7SRpIk62EOLmY61s7qlE5dN6OI/sTg+mDDFxmyh2cGwhL9iEsmeGQge6otu5wN1yM3A5BK7B50fA1Tg1brUxsxHI1pE+n4bh1radPq6yZreORJjL0GfQbu3ScVnvD+8CcQzcUUYqbdatvdT9Zrr9H6Xw3jwzjgQuXT2f4zKNw9cc0/v4X5wKe6qJ3DccYEqgWnfFW7LiPdYJYlqnUlCnO8j0F5oMjIjCwxWC67Bzp3JZ4XoXlfF+HcxQAYlAc/HiGjnUIOod6w5Jt2S9HpwZ7H8fnVaIGHazrnLakZ935ZizGBVClXbfkGqOVQyybxzGTJIRjvuYApDQ9f48l7WF9WaRfPs2lPLiN4y2NYlpw977aPZqYhEfuGXs590YbIeos5KVSMMAMNnIrQ63FjorUiFvjGYGBDwKWruE4VpSAmGhTMIRReJwXg5a0tP9InrevBeXYjIgyuwnwEtPDD2bsWqx0mDTbO41aLtHZ6nTboOHU1fcE0dsZTClT9bQVohWVqUq1QzkR4WhhgzR3/4p7ge8KIYy16x/KoiX8lZi0TTwkryrsIngQt0HF+QtlFEq8mE9wwoaefbanfA9KpOw2Nufyo/CRjOH1Ustn1trcLyiQ65Z2NkLfEhpFyVJFzSBHyiDn2WbV4kD0kh4ViHEbuWRmGQAlP4vMGHTysb5tmWVUY3L5krQTFRrYrEfHSg3xPNqpMs+W+hMtnLsXXZ26YaS2sEq5IVtASxQ/llWY5JGSmfq3jzJEHkrlS2Y8sgCwqJmQH9MCVJdHnbGaBd1f91TtsO+o4KC3dtnJUferkh84PLI4fcFxe2TOnyFkR+bxUCQFrM7jUe7Q54r/3UrnBoSiP3p2ZtafMUWzBjy+Qu28BMnzYnlYZ4RkroxJDkTLhax2kpBNe4oXLDAr3JaFwQGXieh++ZPl0jExkL+rH/X/wZDnPgsjvGlFm9pIYUF6lprkuo8jyNEz0sMQLm6Leg2MJhBkIJHpHb6j66HwnenGmgWXXRcOkIZEqMm01K655z00FWfWTn5Cdz/gFgve47qC/KKYu8zFy/zKg/NTM2sWnBvhEQZL8lQKm9EzZ7w8OxAmmJAGhBbUzXsM6Nt1ds7RkJbWLKGW0q61Gsnghd2ndihzZvm7XS1X5+4ml+AoGyUgy1Xuqyd9y0e7hbRfcH1lj84zUm5A9/6BMTasDSuml6YHX0Jmz8sfQKSQCHDv1hJGJ5NfNhZAS9Jl+JUh1xTCRelfNAlOhsn5EzkJL/8J4SBmJ34krwKNsoPS4vIAP0Q0sDe1Zj5WNo3AtM8Q+fBKlfZcpEL4fyCQXoDZfVS0yQXM4i1Mh79PwuCAYqj+0TtV/mg+vmO56uy3gKkN5pP2o+EMcjnC3vmw8IEwtb5qLfHx9iKMORH/7/qFe2X3CXzbEmzOjph7qv6OZfdPKAavPV9LMMqzIylzSRH/hzAxDFf5pvE55UXn1bDByRPUxWNT8ACRB9sKvyNgw5qL69Sfor8L+gJqlbQ+GHwMAbK3Sf8B1vH";
        
        var submitPass = document.getElementById('submitPass');
        var passEl = document.getElementById('pass');
        var invalidPassEl = document.getElementById('invalidPass');
        var trycatcherror = document.getElementById('trycatcherror');
        var successEl = document.getElementById('success');
        var contentFrame = document.getElementById('contentFrame');
        
        // Sanity checks

        if (pl === "") {
            submitPass.disabled = true;
            passEl.disabled = true;
            alert("This page is meant to be used with the encryption tool. It doesn't work standalone.");
            return;
        }

        if (!isSecureContext) {
            document.querySelector("#passArea").style.display = "none";
            document.querySelector("#securecontext").style.display = "block";
            return;
        }

        if (!crypto.subtle) {
            document.querySelector("#passArea").style.display = "none";
            document.querySelector("#nocrypto").style.display = "block";
            return;
        }
        
        function str2ab(str) {
            var ustr = atob(str);
            var buf = new ArrayBuffer(ustr.length);
            var bufView = new Uint8Array(buf);
            for (var i=0, strLen=ustr.length; i < strLen; i++) {
                bufView[i] = ustr.charCodeAt(i);
            }
            return bufView;
        }

        async function deriveKey(salt, password) {
            const encoder = new TextEncoder()
            const baseKey = await crypto.subtle.importKey(
                'raw',
                encoder.encode(password),
                'PBKDF2',
                false,
                ['deriveKey'],
            )
            return await crypto.subtle.deriveKey(
                { name: 'PBKDF2', salt, iterations: 100000, hash: 'SHA-256' },
                baseKey,
                { name: 'AES-GCM', length: 256 },
                true,
                ['decrypt'],
            )
        }
        
        async function doSubmit(evt) {
            submitPass.disabled = true;
            passEl.disabled = true;

            let iv, ciphertext, key;
            
            try {
                var unencodedPl = str2ab(pl);

                const salt = unencodedPl.slice(0, 32)
                iv = unencodedPl.slice(32, 32 + 16)
                ciphertext = unencodedPl.slice(32 + 16)

                key = await deriveKey(salt, passEl.value);
            } catch (e) {
                trycatcherror.style.display = "inline";
                console.error(e);
                return;
            }

            try {
                const decryptedArray = new Uint8Array(
                    await crypto.subtle.decrypt({ name: 'AES-GCM', iv }, key, ciphertext)
                );

                let decrypted = new TextDecoder().decode(decryptedArray);

                if (decrypted === "") throw "No data returned";

                const basestr = '<base href="." target="_top">';
                const anchorfixstr = `
                    <script>
                        Array.from(document.links).forEach((anchor) => {
                            const href = anchor.getAttribute("href");
                            if (href.startsWith("#")) {
                                anchor.addEventListener("click", function(e) {
                                    e.preventDefault();
                                    const targetId = this.getAttribute("href").substring(1);
                                    const targetEl = document.getElementById(targetId);
                                    targetEl.scrollIntoView();
                                });
                            }
                        });
                    <\/script>
                `;
                
                // Set default iframe link targets to _top so all links break out of the iframe
                if (decrypted.includes("<head>")) decrypted = decrypted.replace("<head>", "<head>" + basestr);
                else if (decrypted.includes("<!DOCTYPE html>")) decrypted = decrypted.replace("<!DOCTYPE html>", "<!DOCTYPE html>" + basestr);
                else decrypted = basestr + decrypted;

                // Fix fragment links
                if (decrypted.includes("</body>")) decrypted = decrypted.replace("</body>", anchorfixstr + '</body>');
                else if (decrypted.includes("</html>")) decrypted = decrypted.replace("</html>", anchorfixstr + '</html>');
                else decrypted = decrypted + anchorfixstr;
                
                contentFrame.srcdoc = decrypted;
                
                successEl.style.display = "inline";
                setTimeout(function() {
                    dialogWrap.style.display = "none";
                }, 1000);
            } catch (e) {
                invalidPassEl.style.display = "inline";
                passEl.value = "";
                submitPass.disabled = false;
                passEl.disabled = false;
                console.error(e);
                return;
            }
        }
        
        submitPass.onclick = doSubmit;
        passEl.onkeypress = function(e){
            if (!e) e = window.event;
            var keyCode = e.keyCode || e.which;
            invalidPassEl.style.display = "none";
            if (keyCode == '13'){
              // Enter pressed
              doSubmit();
              return false;
            }
        }
    })();
    </script>
  </body>
</html>
